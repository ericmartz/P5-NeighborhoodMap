<!DOCTYPE html>
<html>
<head>
<title>Udacity's 5th Project | A Neighborhood Map</title>

<meta name=viewport content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="css/production.min.css">

</head>

<body>
  <div class="flex-container">
    <div id="map" class="box"></div>
    <div id="info-display"  class="box">
      <div id="place-listing" class="box">
        <h1 id="title">Some Cool Places in Atlanta</h1>
        <center><input id="search" class="controls" type="search" data-bind="textInput: query, valueUpdate: 'keyup'"></input></center>
        <p id="instructions">Use the text box above to filter list of Cool Places in Atlanta.  Click on a Place to obtain information from Foursquare and pictures from Flickr.  Markers also contain a note from Eric and Google's Street View picture.</p>
        <ul data-bind="foreach: search">
          <li data-bind="text: mapLocation, click: $parent.clickedLocation, $parent.getInfo"></li>
        </ul>
      </div>
      <div id="location-info" class="box">
        <h4>Info from Foursquare for <a data-bind="text: locationName, attr: { href: url }" target="blank"></a></h4>
        <ul>
          <li>Rating: <span data-bind="text: rating"></span></li>
          <li>Cost: <span data-bind="text: costEstimate"></span></li>
          <li><a data-bind="attr: { href: menu_url }" target="blank">Menu</a></li>
          <li>Phone Number: <span data-bind="text: phone_num"></span></li>
          <li>Address: <span data-bind="text: address"></span></li>
        </ul>
      </div class="box">
      <div id="flickr-photos" class="box">
        <ul data-bind="foreach: flickrPhotos">
          <li><img data-bind="attr: { src: photoURL}"></li>
        </ul>
      </div>
    </div>
  </div>

  <!-- 
    Ok, so this was originally the JS I was using, but I am now using grunt-contrib-concat to put all the
    files together.  So further down you will see the script tag I am using.
    <script src="js-frameworks/jquery-1.11.3.min.js"></script>
    <script src="js-frameworks/knockout.js"></script>

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDO11YUjfobraQtsvn9WNyXjQs3hkPGugE"></script>
    <script src="js/map.js"></script>
    <script type="text/javascript">initMap();</script>
    <script src="js/mvm.js"></script>
  -->

  <!-- 
    Originally, initMap was in the map.js file.  However, I took it out and added a callback to the
    Google Maps API script.  I did this so I could defer the loading of both the Google Maps API
    and the production.min.js file.
  -->
  <script type="text/javascript">
    function initMap() {
    // Create a map object and specify the DOM element for display.
    map = new google.maps.Map(document.getElementById('map'), {
      center: {lat: 33.74900, lng: -84.38798},
      scrollwheel: false  // Why? Because I hate when I am scrolling a site and suddenly grab the map 
                          // it starts to zoom in or out.  
    });
  }
  </script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDO11YUjfobraQtsvn9WNyXjQs3hkPGugE&callback=initMap" defer></script>
  <script src="js/build/production.min.js" defer></script>

</body>
</html>